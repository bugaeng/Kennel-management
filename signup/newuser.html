
  
  <!DOCTYPE html>
  <html lang="ko">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입창</title>
    <link href="join.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.css">
  </head>
  <body>
  <style>

  </style>





  <h1 style="text-align: center; color: azure;">파충류 온습도 확인</h1> 
  
  <h2 style="text-align: center; color: azure;">회원가입</h2>
  <p style="text-align: center;"> <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Tab_icon_lizard.png" width="50px" height="50px">   <img src="https://dinopixel.com/preload/1222/Green-Slime.png" width="50px" height="50px"><p> 
    <div id="container">
      <form action="#" id="form">
        <table class="table">
            <tr>
              <th>유저이름</th>
             <td><input type="text" id="username"  placeholder="username" ></td> 
            </tr>
          <tr>
            <th>이메일</th>
           <td><input type="text" id="email"  placeholder="E-mail @ 랑 .com 넣어서 할것"></td> 
          </tr>

          <tr>
            <th>비밀번호</th>
            <td><input type="password" id="password" name="password" placeholder="Password" ></td>
          </tr>
         
          
                 </table> 
          <p style="text-align: center;"><input type="submit" id="sighUp" name="sign_upsubmit" value="가입" style="text-align: center; cursor: pointer; "/> </p>
                 <p style="text-align: center;">계정이 이미있나요? <a href="/login/login.html">로그인하러가기!</a></p>
        </div>
     
    </div>
 </form>
  </body>
  
  
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
    import { getDatabase , set,ref } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-database.js"; //데이터베이스 링크 안에 추가적인것을 넣기위한 set,ref 
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyAKlYaOC3qlsXwt5e9xFDadVCMNEffNe24",
      authDomain: "trylogin-now.firebaseapp.com",
      databaseURL: "https://trylogin-now-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "trylogin-now",
      storageBucket: "trylogin-now.appspot.com",
      messagingSenderId: "503987516936",
      appId: "1:503987516936:web:c1b1d99533faf08a2d43bd"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();
  
    form.addEventListener('submit',(e)=>{
    //  document.getElementById('sighUp').addEventListener('click',(e)=>{
      e.preventDefault();
      var email;
      var password;
      var username;
      email= document.getElementById('email').value;
      password= document.getElementById('password').value;
      username= document.getElementById('username').value;
   
    //signInWithEmailAndPassword(auth, email, password )
    createUserWithEmailAndPassword(auth, email, password )// Authentication 로 들어가는것

    .then((userCredential) => {
      // Signed in 
      const user = userCredential.user;
      Swal.fire({
        icon: "success",
        title: "회원가입 성공",
        text: "잊지말고 메모하세요"
      })
  
       
    })
    .catch((error) => {
      const errorCode = error.code;
      const errorMessage = error.message;
      
      //alert(errorMessage);


      Swal.fire({
      icon: "error",
      title: "회원가입실패",
      text: "비밀번호는 6자 이상 이메일은 @ 랑 .com 를 넣어주세요",
        });


    });
  
    });
  
  </script>
  </html> 





